@import "tailwindcss";

/*
 * Dynamic Theme System
 * Colors use var(--theme-*, fallback) pattern to allow runtime overrides
 * The JS theme system sets --theme-* variables on :root
 */
@theme {
  /* Primary colors - dynamically themeable */
  --color-primary-50: var(--theme-primary-50, #ecfeff);
  --color-primary-100: var(--theme-primary-100, #cffafe);
  --color-primary-200: var(--theme-primary-200, #a5f3fc);
  --color-primary-300: var(--theme-primary-300, #67e8f9);
  --color-primary-400: var(--theme-primary-400, #22d3ee);
  --color-primary-500: var(--theme-primary-500, #06b6d4);
  --color-primary-600: var(--theme-primary-600, #0891b2);
  --color-primary-700: var(--theme-primary-700, #0e7490);
  --color-primary-800: var(--theme-primary-800, #155e75);
  --color-primary-900: var(--theme-primary-900, #164e63);

  /* Accent colors - dynamically themeable */
  --color-accent: var(--theme-accent, #22d3ee);
  --color-accent-light: var(--theme-accent-light, #a5f3fc);

  /* Success green for progress */
  --color-success-500: #22c55e;
  --color-success-600: #16a34a;

  /* Warning/accent colors */
  --color-warning-500: #f59e0b;
  --color-danger-500: #ef4444;

  /* Category colors for debt types */
  --color-credit-card: #8b5cf6;
  --color-student-loan: #22c55e;
  --color-personal-loan: #f59e0b;
  --color-auto-loan: #06b6d4;
}

/* Theme gradient variables for header backgrounds */
:root {
  --gradient-from: var(--theme-gradient-from, #a5f3fc);
  --gradient-to: var(--theme-gradient-to, #ecfeff);
}

/* Base styles */
body {
  @apply bg-gray-50 text-gray-900 font-sans antialiased;
  margin: 0;
  min-height: 100vh;
}

/* Dark mode body */
.dark body {
  @apply bg-gray-900 text-gray-100;
}

#root {
  min-height: 100vh;
  display: flex;
  flex-direction: column;
}

/* Card styles used throughout the app */
.card {
  @apply bg-white rounded-2xl shadow-sm border border-gray-100 p-4;
}

/* Dark mode card */
.dark .card {
  @apply bg-gray-800 border-gray-700;
}

/* ============================================
   DARK MODE OVERRIDES
   ============================================ */

/* Dark mode background colors */
.dark .bg-white {
  background-color: #1f2937 !important; /* gray-800 */
}

.dark .bg-gray-50 {
  background-color: #111827 !important; /* gray-900 */
}

.dark .bg-gray-100 {
  background-color: #1f2937 !important; /* gray-800 */
}

/* Dark mode text colors */
.dark .text-gray-900 {
  color: #f9fafb !important; /* gray-50 */
}

.dark .text-gray-800 {
  color: #f3f4f6 !important; /* gray-100 */
}

.dark .text-gray-700 {
  color: #e5e7eb !important; /* gray-200 */
}

.dark .text-gray-600 {
  color: #d1d5db !important; /* gray-300 */
}

.dark .text-gray-500 {
  color: #9ca3af !important; /* gray-400 */
}

.dark .text-gray-400 {
  color: #9ca3af !important; /* gray-400 */
}

/* Dark mode border colors */
.dark .border-gray-100 {
  border-color: #374151 !important; /* gray-700 */
}

.dark .border-gray-200 {
  border-color: #4b5563 !important; /* gray-600 */
}

.dark .border-gray-300 {
  border-color: #6b7280 !important; /* gray-500 */
}

/* Dark mode hover states */
.dark .hover\:bg-gray-50:hover {
  background-color: #374151 !important; /* gray-700 */
}

.dark .hover\:bg-gray-100:hover {
  background-color: #374151 !important; /* gray-700 */
}

.dark .hover\:text-gray-800:hover {
  color: #f3f4f6 !important; /* gray-100 */
}

/* Dark mode input/form elements */
.dark input,
.dark select,
.dark textarea {
  background-color: #374151 !important; /* gray-700 */
  border-color: #4b5563 !important; /* gray-600 */
  color: #f9fafb !important; /* gray-50 */
}

.dark input::placeholder,
.dark textarea::placeholder {
  color: #9ca3af !important; /* gray-400 */
}

.dark input:focus,
.dark select:focus,
.dark textarea:focus {
  border-color: var(--theme-primary-500) !important;
}

/* Dark mode for specific background utilities - uses dark theme primary colors */
.dark .bg-primary-50 {
  background-color: color-mix(in srgb, var(--theme-primary-900) 30%, #1f2937) !important;
}

/* Dark mode shadows - make them darker */
.dark .shadow-sm {
  box-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.2) !important;
}

.dark .shadow {
  box-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.3), 0 1px 2px -1px rgb(0 0 0 / 0.3) !important;
}

.dark .shadow-md {
  box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.3), 0 2px 4px -2px rgb(0 0 0 / 0.3) !important;
}

.dark .shadow-lg {
  box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.4), 0 4px 6px -4px rgb(0 0 0 / 0.4) !important;
}

/* Dark mode gradient header - uses themed dark colors */
.dark .bg-gradient-to-b.from-primary-200 {
  --tw-gradient-from: var(--theme-primary-800) !important;
  --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to) !important;
}

.dark .bg-gradient-to-b.to-primary-100\/50 {
  --tw-gradient-to: color-mix(in srgb, var(--theme-primary-900) 50%, transparent) !important;
}

/* Generic dark gradient fallback */
.dark .bg-gradient-to-b:not(.from-primary-200) {
  --tw-gradient-from: #1f2937 !important;
  --tw-gradient-to: #111827 !important;
}

/* Dark mode for colored backgrounds (keeping colors but adjusting opacity) */
.dark .bg-red-50 {
  background-color: rgba(127, 29, 29, 0.3) !important; /* red-900 with opacity */
}

.dark .bg-green-50 {
  background-color: rgba(20, 83, 45, 0.3) !important; /* green-900 with opacity */
}

.dark .bg-green-100 {
  background-color: rgba(20, 83, 45, 0.4) !important;
}

.dark .bg-amber-50 {
  background-color: rgba(120, 53, 15, 0.3) !important; /* amber-900 with opacity */
}

.dark .bg-blue-50 {
  background-color: rgba(30, 58, 138, 0.3) !important; /* blue-900 with opacity */
}

.dark .bg-purple-50 {
  background-color: rgba(88, 28, 135, 0.3) !important; /* purple-900 with opacity */
}

/* Dark mode text colors for strategy comparison callout */
.dark .text-blue-800 {
  color: #93c5fd !important; /* blue-300 - lighter for dark mode */
}

.dark .text-purple-800 {
  color: #d8b4fe !important; /* purple-300 - lighter for dark mode */
}

/* Additional dark mode background colors */
.dark .bg-gray-200 {
  background-color: #374151 !important; /* gray-700 */
}

.dark .bg-gray-300 {
  background-color: #4b5563 !important; /* gray-600 */
}

/* Dark mode hover states for colored backgrounds */
.dark .hover\:bg-red-100:hover {
  background-color: rgba(127, 29, 29, 0.4) !important; /* red-900 with opacity */
}

.dark .hover\:bg-green-100:hover {
  background-color: rgba(20, 83, 45, 0.4) !important; /* green-900 with opacity */
}

.dark .hover\:bg-primary-50:hover {
  background-color: color-mix(in srgb, var(--theme-primary-800) 40%, #1f2937) !important;
}

/* Dark mode for text colors used in components */
.dark .text-red-700 {
  color: #fca5a5 !important; /* red-300 */
}

.dark .text-red-600 {
  color: #f87171 !important; /* red-400 */
}

.dark .text-red-500 {
  color: #ef4444 !important; /* stays vibrant */
}

.dark .text-green-600 {
  color: #4ade80 !important; /* green-400 */
}

.dark .text-amber-500 {
  color: #fbbf24 !important; /* stays vibrant */
}

/* Dark mode for primary colored backgrounds in UI */
.dark .bg-primary-100 {
  background-color: color-mix(in srgb, var(--theme-primary-700) 40%, #1f2937) !important;
}

.dark .bg-primary-200 {
  background-color: color-mix(in srgb, var(--theme-primary-700) 50%, #1f2937) !important;
}

/* Dark mode for colored indicator dots */
.dark .bg-red-100 {
  background-color: rgba(127, 29, 29, 0.4) !important;
}

/* Dark mode dividers */
.dark .divide-gray-100 > :not([hidden]) ~ :not([hidden]) {
  border-color: #374151 !important; /* gray-700 */
}

.dark .divide-gray-200 > :not([hidden]) ~ :not([hidden]) {
  border-color: #4b5563 !important; /* gray-600 */
}

/* Dark mode ring colors */
.dark .ring-gray-200 {
  --tw-ring-color: #4b5563 !important; /* gray-600 */
}

/* Dark mode bottom nav */
.dark nav.fixed.bottom-0 {
  background-color: #1f2937 !important;
  border-color: #374151 !important;
}

/* Progress ring base */
.progress-ring {
  transform: rotate(-90deg);
}

/* Smooth transitions */
* {
  @apply transition-colors duration-200;
}
